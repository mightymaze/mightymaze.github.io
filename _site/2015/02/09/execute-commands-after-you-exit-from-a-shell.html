<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href="https://fonts.googleapis.com/css?family=Quicksand|Nunito:300,400,700" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="/assets/css/style.css?v="
          media="screen" type="text/css">
    <link rel="stylesheet" href="/assets/css/print.css" media="print" type="text/css">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!--<title>Mazhar's Blog by </title>-->

    <!-- Begin Jekyll SEO tag v2.1.0 -->
<title>Execute commands after you exit from a shell - Mazhar’s Blog</title>
<meta property="og:title" content="Execute commands after you exit from a shell" />
<meta name="description" content="" />
<meta property="og:description" content="" />
<link rel="canonical" href="http://localhost:4000/2015/02/09/execute-commands-after-you-exit-from-a-shell.html" />
<meta property="og:url" content="http://localhost:4000/2015/02/09/execute-commands-after-you-exit-from-a-shell.html" />
<meta property="og:site_name" content="Mazhar’s Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2015-02-09T10:11:06+06:00" />
<script type="application/ld+json">
{"@context": "http://schema.org",
"@type": "BlogPosting",
"headline": "Execute commands after you exit from a shell",
"datePublished": "2015-02-09T10:11:06+06:00",
"description": "",
"url": "http://localhost:4000/2015/02/09/execute-commands-after-you-exit-from-a-shell.html"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<header>
    <div class="inner">
        <a href="http://localhost:4000/">
            <h1>Mazhar's Blog</h1>
        </a>
        <h2>Entrepreneur, Product Enthusiast, Tech Expert, Designer, Brander
</h2>
        
        
    </div>
</header>

<div id="content-wrapper">
    <div class="inner clearfix">
        <section id="main-content">
            <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <div class="post-header">
    <h1 class="post-title" itemprop="name headline">Execute commands after you exit from a shell</h1>
    <p class="post-meta"><time datetime="2015-02-09T10:11:06+06:00" itemprop="datePublished">Feb 9, 2015</time></p>
  </div>

  <div class="post-content" itemprop="articleBody">
    <p><img src="/content/images/2015/Feb/Screen-Shot-2015-02-11-at-10-54-07-AM.png" alt="" /></p>

<p>Most of us used to login to a server using an SSH client. Situations happen like this that a process will take a long time to be finished. System software upgrade is an example of this situation. If we start a command and exit the ssh the process will be stopped immediately. You are probably thinking of running the command on background. But even so, exiting from SSH will terminate the execution. So, is there any solution that the command stays running while we quit the SSH client!</p>

<p>###Meet the <code class="highlighter-rouge">nohup</code> command</p>

<p>The answer is obvious, use <strong>nohup</strong> command line-utility which allows us to run commands or shell script that can continue running in the background after we log out from a shell.</p>

<p>Use it like:</p>
<pre class="brush:shell;">
$ nohup command-goes-here args &amp;
</pre>

<p>To view active commands:</p>
<pre class="brush:shell;">
$ jobs -l
</pre>

<p><strong>nohup</strong> doesn’t change the scheduling priority of the commands. To change the priority we can use <strong>nice</strong> command with it.</p>

<pre class="brush:shell;">
$ nohup nice -n -5 command-here args &amp;
</pre>

<p>###Queue the command</p>

<p>We can schedule the command for later execution on the server. For example, we can run my-shell-script.sh script to queue (one minute) later execution:</p>
<pre class="brush:shell;">
$ echo "my-shell-script.sh" | at now + 1 minute
</pre>

<p>###Learn to <code class="highlighter-rouge">disown</code> the shell
We can also use screen command for same purpose. The disown shell internal command can do it for us. Here is how you can try it out:</p>
<pre class="brush:shell;">
$ pullftp.sh &amp;
$ disown -h
$ exit
</pre>

<p>Now we can exit from the SSH. The command will be running on the server.</p>

  </div>

</article>

        </section>

        <aside id="sidebar">
            

            

            <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</p>

            <ul class="tags">
                
            </ul>

        </aside>
    </div>
</div>


</body>
</html>
